# Survey PWA - Dokumentasi & Konfigurasi Lengkap

# ========================================
# 1. DESKRIPSI & FUNGSI UTAMA
# ========================================
# Aplikasi ini adalah Progressive Web Application (PWA) untuk survei lapangan.
# Memungkinkan surveyor mengambil data dan foto di lokasi tanpa sinyal (Offline).
# Data disinkronkan ke server pusat saat koneksi internet tersedia (Online).

# ========================================
# 2. FITUR UNGGULAN
# ========================================
# - Offline First: Simpan data survei & foto di IndexedDB browser.
# - Auto-Sync: Sinkronisasi otomatis ke PostgreSQL saat online.
# - Admin Portal: Dashboard untuk monitoring, filter, dan download data.
# - PWA: Bisa diinstal di Android/iOS (Add to Home Screen).
# - Image Preview: Lihat foto hasil survei langsung di dashboard.

# ========================================
# 3. STRUKTUR FILE & KODE UTAMA
# ========================================
# - /app: Routing Next.js (Admin, Survey, Login, API).
# - /shared/schema.ts: Definisi tabel PostgreSQL (Surveys, Entries, Photos).
# - /lib/sync-manager.ts: Logika sinkronisasi data offline-to-online.
# - /lib/indexeddb.ts: Manajemen database lokal di browser.
# - /public/sw.js: Service Worker untuk caching dan mode offline.

# ========================================
# 4. KONFIGURASI ENV (AKTIF DI REPLIT)
# ========================================

# Database (PostgreSQL)
# Catatan: Replit mengelola DATABASE_URL secara otomatis di sistem.
DATABASE_URL="postgresql://postgres:EDUJUANDA12345@localhost:5432/PWA"
PGPORT=5432
PGUSER=postgres
PGPASSWORD=EDUJUANDA12345
PGDATABASE=PWA
PGHOST=localhost

# Keamanan & Auth
JWT_SECRET="5d5cc91a5d55401b43f9aa6572ae6f9d18b61be882b0576f53904f2b76e90de5"
JWT_EXPIRES_IN="7d"
NEXTAUTH_SECRET="7e0b6340a2ef630ec47610b31d19d62254135eb4333834b70431c11f97aab831"
NEXTAUTH_URL="http://localhost:3003"

# Pengaturan File Upload
UPLOAD_DIR="./uploads"
MAX_FILE_SIZE="10485760" 
ALLOWED_FILE_TYPES="image/jpeg,image/png,image/jpg,application/pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document"

# Environment
NODE_ENV=production
ALLOW_DEV_USER_SEED=true
